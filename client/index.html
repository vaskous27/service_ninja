<html ng-app="serviceninja">
<head>
  <title>Service Ninjas</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
    <link href="/stylesdashboard.css" rel="stylesheet">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-route.min.js"></script>
  <script>
  	  var serviceninja = angular.module('serviceninja', ['ngRoute']);

      serviceninja.config(function ($routeProvider, $httpProvider) {
          $httpProvider.defaults.useXDomain = true;
          $routeProvider
            .when('/',{
                templateUrl: 'partials/front.html',
                controller: 'loginController'
              })
            .when('/login', {
                templateUrl: 'partials/logIn.html'
            }) 
            .when('/register', {
                templateUrl: 'partials/register.html'
            }) 
            .when('/dashboard', {
                templateUrl: 'partials/dashboard.html'
            })            
             .when('/profile', {
                templateUrl: 'partials/profile.html'
            })
            .when('/message', {
                templateUrl: 'partials/message.html'
            })                        
            .otherwise({
              redirectTo: '/'
            });
      })



      //
      //
      // FACTORIES
      //
      //

      serviceninja.factory('loginFactory', function($http){
        var factory = {};
        factory.google = function(callback){

          $http.get('/auth/google/callback').success(function(output){
            // console.log(output)
            // console.log("hello world");
            // callback(output);google = function(){
          });
        };
        return factory;
      });


      //
      //
      // CONTROLLERS
      //
      //
      serviceninja.controller('loginController', function($scope, loginFactory){
        $scope.google = function(){
          loginFactory.google();
        }
        // var google = function(){
        //   loginFactory.google = function(data){
        //     console.log(data)

        //   }
        // }

      });

      
  </script>
</head>
<body>

      

      <div ng-view="">
      </div>
</body>
</html>
